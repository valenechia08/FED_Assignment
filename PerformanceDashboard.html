<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ShiokLah!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Kodchasan:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Vendor.css" />
    <style>.stats-cards {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
    }
    .card {
      background-color: #fff;
      flex: 1;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    .card h2 {
      font-size: 30px;
      margin-bottom: 10px;
    }
    .card p {
      font-size: 15px;
      font-weight: 600;
    }
    .card .change {
      font-size: 18px;
      margin-top: 12px;
      font-weight:500;
    }
    .card .details{
        display: flex;
        gap:20px;
    }


    .green { color: green; }
    .red { color: red; }

    /* Charts section */
    .charts {
      display: flex;
      gap: 20px;
      margin-bottom: 30px;
    }
    .chart-card {
      background-color: #fff;
      flex: 1;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .chart-card h3 {
      margin-bottom: 20px;
      font-size: 18px;
    }

    /* Placeholder charts */
    .donut, .bar {
      width: 100%;
      height: 250px;
      background-color: #e2e8f0;
      border-radius: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #64748b;
      font-weight: 600;
    }

    /* Lead totals chart */
    .totals-chart {
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }

    .chart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.chart-actions {
  display: flex;
  gap: 8px;
}

.icon-btn {
  border: none;
  background: #f1f5f9;
  border-radius: 6px;
  padding: 6px 8px;
  cursor: pointer;
  font-size: 14px;
}

.icon-btn:hover {
  background: #e2e8f0;
}

/* Expand mode */
.chart-card.expanded,
.totals-chart.expanded {
  position: fixed;
  inset: 50% auto auto 50%;
  transform: translate(-50%, -50%);
  width: 90vw;
  height: 85vh;
  z-index: 1000;
  background: #fff;
  padding: 30px;
}

.chart-card.expanded canvas,
.totals-chart.expanded canvas {
  height: 100% !important;
}

    </style>
  </head>
  <body>
    <!-- Vendor Home -->
     <section class="container vendornav">
      <nav class="navrectangle">
        <header class="brand">
          <img src="images/ShiokLahTransparent.png" alt="ShiokLah">
        </header>

        <ul class="navBar">
          <li>
            <a href="FED_ASG.html" class="main toggle">
              üè† Home
            </a>
          </li>

          <!-- <li class="divider"></li> -->

           <li>
            <a href="VendorEditMenu.html" class="main toggle">
              üçΩÔ∏è Edit Menu
            </a>
          </li>

          <!-- <li class="divider"></li> -->

          <li class="main toggle ven-profile">
            <span>üë§ Profile</span>
            <span class="usernameDisplay"></span>
            <span class="arrow">v</span>
          </li>
          <ul class="submenu">
            <li>
              <button onclick="window.location.href='StallHygieneGrades.html';" class="subpoint">
               ‚Ä¢ Stall Hygiene Grades
              </button>
            </li>
            <li>
             <button onclick="window.location.href='PerformanceDashboard.html';" class="subpoint">
               ‚Ä¢ Performance Dashboard
              </button>
            </li>
            <li>
              <button onclick="window.location.href='RentalAgreement.html';" class="subpoint">
              ‚Ä¢ My Rental Agreements
              </button>
            </li>

            <li>
            <button onclick="window.location.href='CustomerFeedBack.html';" class="subpoint">
              ‚Ä¢ Customer Feedback
              </button>
            </li>
            <li class="subpoint settings">‚Ä¢ Settings</li>
          </ul>

          <!-- <li class="divider"></li> -->
          <li class="subpoint logout">Log out</li>
        </ul>
      </nav>

      <nav class="mobile-nav vendornav">
        <div class="mobile-nav-item active" data-link="FED_ASG.html">
          <span>üè†</span>
          <small>Home</small>
        </div>

        <div class="mobile-nav-item" data-link="VendorEditMenu.html">
          <span>üçΩÔ∏è</span>
          <small>Edit Menu</small>
        </div>

        <div class="mobile-nav-item" data-link="VendorProfile.html">
          <span>üë§</span>
          <small>Profile</small>
        </div>
      </nav>

  <main class="contents">

    <header class="page-header">
      <div class="header-row">
        <div class="title-block">
          <h1>Performance Report</h1>
          </div>
        </div>
      </header>


        <div class="stats-cards">
      <div class="card">
        <h2>100</h2>
        <div class="details">
        <p>Total Orders</p>
        <div class="change green">+3.5%</div>
        </div>
      </div>
      <div class="card">
        <h2>80</h2>
        <div class="details">
        <p>Total Customers</p>
        <div class="change red">-10%</div>
        </div>
      </div>
      <div class="card">
        <h2>120</h2>
        <div class="details">
        <p>Stall Rating</p>
        <div class="change">‚Üí</div>
        </div>
      </div>
      <div class="card">
        <h2>$18,000</h2>
        <div class="details">
        <p>Total sales</p>
        <div class="change green">+2%</div>
        </div>
      </div>
    </div>

      <div class="charts">
              <div class="chart-card">
      <div class="chart-header">
        <h3>Orders</h3>
        <div class="chart-actions">
          <button class="icon-btn filter-btn" title="Filter">üîç</button>
          <button class="icon-btn expand-btn" title="Expand">‚§¢</button>
        </div>
      </div>

      <canvas id="leadsBar"></canvas>
    </div>

        <div class="chart-card">
      <div class="chart-header">
        <h3>Rating</h3>
        <div class="chart-actions">
          <button class="icon-btn filter-btn" title="Filter">üîç</button>
          <button class="icon-btn expand-btn" title="Expand">‚§¢</button>
        </div>
      </div>

      <canvas id="costsDonut"></canvas>
    </div>

    </div>


<div class="totals-chart">
  <div class="chart-header">
    <h3>Total leads by vendor</h3>
    <div class="chart-actions">
      <button class="icon-btn filter-btn" title="Filter">üîç</button>
      <button class="icon-btn expand-btn" title="Expand">‚§¢</button>
    </div>
  </div>

  <canvas id="totalLeadsBar"></canvas>
</div>



    </section>
  </main>
  <script>
    // Expand button logic
document.querySelectorAll(".expand-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    const card = btn.closest(".chart-card, .totals-chart");
    if (!card) return;
    card.classList.toggle("expanded");
  });
});

// Filter button placeholder
document.querySelectorAll(".filter-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    alert("Filter options coming soon üëÄ");
  });
});

 document.querySelectorAll('.title-row').forEach(item => {
    item.addEventListener('mouseenter', () => {
      item.querySelector('.arrow img').src = "images/orangedown.png";
    });
    item.addEventListener('mouseleave', () => {
      item.querySelector('.arrow img').src = "images/down.png";
    });
  });

//Navigation Dropdown
document.querySelectorAll('.main.toggle').forEach(mainItem => {
    const submenu = mainItem.querySelector('.submenu');
    const arrow = mainItem.querySelector('.arrow');
    const title = mainItem.querySelector('.title-row, .profile-title');

    if (!submenu || !title) return;

    title.addEventListener('click', (e) => {
      e.stopPropagation();

      const isOpen = mainItem.classList.contains('active');

      // Close all others
      document.querySelectorAll('.main.toggle').forEach(item => {
        item.classList.remove('active');
        const sm = item.querySelector('.submenu');
        if (sm) sm.style.display = 'none';
      });

      // Toggle current
      if (!isOpen) {
        mainItem.classList.add('active');
        submenu.style.display = 'block';
      }
    });
  });
  </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="Chart.js"></script>
    <script type="module" src="Master_page_javascript.js"></script>
  </body>
</html>
